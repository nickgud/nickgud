## О Git
Git - система контроля версий (Version Control System, VCS)  
Ревизия (версия) - одно или группа изменений  
Git хеширует инфо алгоритмом SHA-1  
Hash - строка 40 символов (идентификатор коммита)  
tag - это метки, предназначенные для обозначения важных коммитов  
`git tag -a ver-2.5 -m "beta version 2.5"` создание аннотированного тега  
`git tag                                 ` просмотр тегов  
`git show ver-2.5                        ` вывод данных метки  

#### СТАТУСЫ ФАЙЛОВ  
`UNTRACKED---git add--->STAGED+TRACKED---git commit--->TRACKED---изменения--->MODIFIED`    
`MODIFIED ---git add--->STAGED+TRACKED---git commit--->TRACKED---изменения--->MODIFIED` 
  
`untracked (неотслеживаемый)       ` все новые файлы так помечены. нет предыдущих версий    
`staged (индексированный)          ` изменный файл помечен для вкл. в след. коммит    
`tracked (отслеживаемый)           ` все файлы где git остлеживает изменения    
`modified (измененный)             `    
`mode 100644                       ` обычный файл  
`mode 100755                       ` исполняемый файл  
`mode 120000                       ` файлы-ссылки в Linux  
## Первоначальная настройка
`git version                         ` версия git   
`git config --global user.name имя   ` установить имя автора коммитов.    
`git config --global user.email почта` задать почту для всех коммитов.    
`git config --list                   ` вывод содержимого файла конфигурации .gitconfig  
`git init название-проекта           ` создать репозиторий в текущей директории.  
`git remote -v                       ` управлять подключением к репозиторию.    
`rm -rf .git                         ` удалить папку .git (удалит историю изменений)  
`.git                                ` текстовый файл в корне репозитория.        
`.gitignore                          ` текстовый файл в корне репозитория, его тоже коммитят    
`git add  <file>                     ` подготовить <файл> к сохранению   
`git add --all                       ` подготовить к сохранению сразу все файлы    
`git add .                           ` добавить в репозиторий текущую папку  
`git status                          ` текущее сосотояние проекта    
`git status --ignored                ` отобразить все игнорируемые файлы    
## Создание коммитов  
`git commit                          ` выведет инфо о коммите  
`git commit -m '<message>'           ` сделеть commit и присвоить <сообщение> не более 72 символов    
`git commit --amend --no-edit        ` (дополнить) добавляет в последний коммит файлы   
`--amend                             ` дополнить   
`--no-edit                           ` оставить сообщение как было  
`git commit --amend -m '<message>'   ` изменяет сообщение в последнем коммите  
## Откат изменений  
`git restore --stage <file>          ` убрать файл из staging  
`git restore --stage .               ` убрать всю текущую папку из staging  
`git restore <file>                  ` отменить изменения в файле modified
`git reset --hard <commit hash>      ` вернуть состояние к более раннему 
## Просмотр истории и изменений в репозитории  
`git log                            ` просмотр истории коммитов в обратном порядке    
`git log --oneline                  ` сокрашенная история коммитов   
`git log --oneline --decorate       ` сокращенная история коммитов с указателями веток   
`git log --follow <file>            ` история изменений конкретного файла  
`git log --graph --oneline --stat   ` просмотр коммитов в виде графа   
`git log -p <file>                  ` просмотр изменений в одном файле   
`git diff --staged                  ` сравнение области подготовленных файлов с HEAD  
`git show <hash>                    ` выводит инфо и изменения в конкретном коммите   
`git reflog show                    ` выводит журнал ссылок (хранится 90 дн.)   
`git blame <file>                   ` выводит инфо о том кто изменял файл и в каком коммите  
  
## Клонирование чужого репозитория    
`git clone <cсылка>               ` склонировать репозиторий на локальный компьютер.    
## Создание веток    
`git branch feature/branch        ` (branch, «ветка») создать ветку от текущей с названием feature/branch.      
`git checkout -b feature/branch  ` создать ветку feature/branch и переключись на неё.    
## Навигация по веткам    
`git branch                       ` показать, какие есть ветки (кущая ветка будет отмечена символом *).    
`git branch --all                 ` покажи все ветки, как локальные, так и удалённые (в origin, или на GitHub).    
`git checkout feature/branch      ` переключись на ветку feature/branch.    
## Сравнение веток    
`git diff main HEAD               ` (difference, «отличие», «разница») показать разницу между веткой main и указателем на HEAD.       
`git diff HEAD~2 HEAD             ` показать разницу между тем коммитом, который был два коммита назад, и текущим.    
## Удаление веток    
`git branch -d br-name            ` удалить ветку br-name, но только если она является частью main.    
`git branch -D br-name            ` удалить ветку br-name, даже если она не объединена с main.    
## Слияние веток    
`git merge main                   ` (merge, «сливать», «поглощать») объединить ветку main с текущей активной веткой.   ## Работа с удалённым репозиторием    
`git push -u origin my-branch     ` (push, «толкнуть») отправить и связать новую локальную ветку my-branch в удалённый репозиторий.    
`git push my-branch               ` отправить доп. изменения в ветку my-branch, которая уже существует в удалённом репозитории.    
`git pull                         ` (pull, «вытянуть») подтянуть изменения текущей ветки из удалённого репозитория.  
## Восстановление файлов  
`git checkout HEAD <file>         ` файл был удален, но изменения не были зафиксированы      
`git reset --hard HEAD~1          ` файл был удален и изменения зафиксированы (изменит состояние до фиксации)  
`git checkout <hash> -- <file>    ` восстановить файл из коммита или даже другой ветки   
## Удалить файл из истории Git
```  
git filter-branch --force --index-filter \
'git rm --cached --ignore-unmatch <file>' \
--prune-empty --tag-name-filter cat -- --all
```    
```mermaid
  graph TD;
      A-->B;
      A-->C;
      B-->D;
      C-->D;
```
