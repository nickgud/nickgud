https://putty.org.ru/  
https://mobaxterm.mobatek.net/

---
SSH (Secure Shell) - защищенный сетевой протокол с проверкой подлинности и шифрованием. Используется для передачи файлов, управления сетью и удаленного доступа к ОС.  

SSH работает по системе "клиент-сервер".  
- На удаленном узле демон ssh прослушивает определенный сетеовой порт (по умолчанию 22) и при прохождении аутентификации создает необходимую среду для работы с ним.  
- На локальном узле устанавливается ssh-клиент. Он взаимодействует с удаленным узлом и передает ему необходимые данные.

На локальном узле создаются и хранятся открытый (*.pub) и закрытый ключ, а на удаленный узел передается только копия публичного (открытого) ключа, что позволяет подключаться к удаленному узлу с локального.
- Публичный ключ. Доступен всем. Используется для шифрования данных.
- Приватный ключ. Расшифровывает сообщения. Рекомендуется установить на него пароль для доп. защиты.
---
SSH-авторизация:  
- установка TCP-соединения. Обмен инфо. о версиях ssh-протоколов ( `ssh -V`  узнать версию OpenSSH).
- удаленный узел направляет клиенту открытый ключ. Если клиент доверяет этому ключу генерируется сеансовый ключ (существует только для текущей сессии), для симметричного шифрования.
- аутентификация.  
    - Клиент отсылает серверу свой открытый ключ.  
    - Сервер проверяет его со своим списком открытых ключей. Если совпадение найдено, сервер генерирует случайное число, шифрует его открытым ключом и отправляет обратно.
    - Клиент расшифровывает сообщение закрытым ключом и отправляет полученные данные серверу. Если присланное число совпадает с первоначальным то аутентификация успешна. 
---
Создание ssh-ключа (по умолчанию ключи создаются в папке ~/.ssh):  
```ssh-geygen -C "$(whoami)@$(uname -n )-$(date -I)"```  
- -C комментарий
- -p изменить старую секретную фразу на новую
- -t задать тип ключа `ssh-keygen -t ?` #доступные типы ключей для вашей системы
- -f имя создаваемого ключа
- -v или -vv или -vvv подробный режим #лог файл /var/log/auth.log
- -l просмотр криптографического отпечатка (одни на пару ключей)(длина ключа, отпечаток, комментарий, алгоритм шифрования).
---
Копирование открытого ключа на сервер:  
- утилита ssh-copy-id `ssh-copy-id username@remote_host` Подключение по логину и паролю. Открытый ключ автоматически копируется в файл ~/.ssh/authorized_keys.
- перезапускаем службу ssh `sudo service ssh restart`
---
Cмена порта SSH:  
- перед сменой ssh порта открываем новый `sudo ufw allow *port*`
- в файле /etc/ssh/sshd_config в строчке Port указываем указываем свое значение
- перезапускаем службу ssh `sudo service ssh restart`
---
Оключение входа по паролю:  
- в файле /etc/ssh/sshd_config в строчке PasswordAuthentication изменяем значение с yes на no
- перезапускаем службу ssh `sudo service ssh restart`

  
